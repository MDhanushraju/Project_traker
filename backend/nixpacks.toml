# Force Maven for Railway/Nixpacks (backend has both pom.xml and gradlew;
# Gradle was being used and failed due to missing gradle-wrapper.jar in image).
[phases.setup]
nixPkgs = ["jdk21", "maven"]

[phases.build]
cmds = ["mvn -B -DskipTests clean package"]

[phases.start]
cmd = "java $JAVA_OPTS -Dserver.port=$PORT -jar target/*.jar"
